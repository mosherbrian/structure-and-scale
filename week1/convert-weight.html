<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Convert Weight Library</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<style type="text/css">
			body {
				margin: 0 auto;
				max-width: 40em;
				width: 88%;
			}
		</style>
		<script type="text/javascript" src="convert-weight.js"></script>
	</head>
	<body>

		<h1>Convert Weight Library</h1>

		<!-- <p>All of the magic here happens in the console.</p> -->

		<label>Value: <input></input></label>
		<select style="height: 1.75em" name="func">
			<option value="gramsToKilograms" selected>Convert grams to kilograms</option>
			<option value="gramsToMilligrams">Convert grams to milligrams</option>
			<option value="kilogramsToGrams">Convert kilograms to grams</option>
			<option value="kilogramsToMilligrams">Convert kilograms to milligrams</option>
			<option value="milligramsToGrams">Convert milligrams to grams</option>
			<option value="milligramsToKilograms">Convert milligrams to kilograms</option>
		</select>
		<p>
		<label>Conversion result: <span></span></label>

		<script>
			const input = document.querySelector('input');
			const func = document.querySelector('select');
			const result = document.querySelector('span');

			function getUnits(func) {
				if (func.endsWith('Kilograms')) return 'kg';
				if (func.endsWith('Milligrams')) return 'mg';
				if (func.endsWith('Grams')) return 'g';
			}

			function convert() {
				return (result.textContent =
					// eslint-disable-next-line no-undef
					convertWeight[func.value](input.value) + ` ${getUnits(func.value)}`);
			}

			input.addEventListener('change', convert);
			func.addEventListener('change', convert);
		</script>
	</body>
</html>
